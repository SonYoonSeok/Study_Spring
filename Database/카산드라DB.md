# 카산드라DB

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Cassandra_logo.svg/1200px-Cassandra_logo.svg.png" height="60%" width="60%">

## 카산드라란?

아파치 소프트웨어 재단의 **자유-오픈 소스 분산형 NoSQL 데이터베이스 관리 시스템**의 하나로, 단일 장애점 없이 고성능을 제공하면서 **수많은 서버 간의 대용량의 데이터를 관리하기 위해 설계**되었다. 

카산드라는 여러 데이터센터에 걸쳐 클러스터를 지원하며 **마스터리스(masterless)** 비동기 레플리케이션을 통해 모든 클라이언트에 대한 낮은 레이턴시 운영을 허용한다.



## 카산드라의 특징

* 여러개의 데이터베이스가 복제된다.

* 짧은 지연 시간

* 프로세스가 추가될 때마다 선형 처리량 증가

* 온라인 부하분산

* 분할된 키 지향 쿼리

* Flexible Schema

* Cassandra Query Language (CQL) 을 사용한다

  ​		**ex )**

  * ```CQL
    INSERT INTO test_keyspace.test_table_ex_1 (id, name , descript ) VALUES ( 'id_1', 'name_1', 'test_data_2');
     SELECT * FROM test_keyspace.test_table_ex_1;
    ```



## 카산드라의 장점

* **분산화와 집중화** : 카산드라는 분산형이므로 여러 머신에서 동작하지만, 사용자는 통합된 하나로 보인다.
  또한, 비집중화이므로 모든 노드가 같다. P2P프로토콜이며 활성노드 비활성노드 목록을 동기화하고 유지관리 한다.
* **탄력적인 확장성** : 기존 머신에 더 많은 메모리와 하드웨어 용량을 추가해서 확장성을 얻는 **수직 확장(Vertical Scaling)**이다. 클러스터의 중단 없이 규모를 확대하거나 축소할 수 있다.
* **고가용성과 결함 허용** : 클러스터에서 시스템을 중단하지 않고 장애가 발생한 노드를 교체할 수 있다. 한 데이터센터에 물리적 피해가 가해져도 다중 데이터센터에 데이터를 복제해서 서비스 중단을 예방할 수 있다.



## 카산드라의 단점

* **높은 진입장벽** : **칼럼형 데이터베이스**로 로우형 데이터베이스인 관계형 데이터베이스와는 다른 개념이라 진입장벽이 높다.
* **복잡한 조건의 검색 불가** : 로우 키와 칼럼 두가지에 대한 인덱스만 가능하기 때문에 데이터는 대량이지만 검색 조건은 단순한 서비스에 적합하다.
* **자동화 처리가 어려움** : 데이터에 대한 락을 사용하려면 **주키퍼(ZooKeeper)**와 같은 전체분산 서버를 관리하는 프로그램을 추가해서 별도로 설정해야 한다.