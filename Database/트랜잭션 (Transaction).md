# 트랜잭션 (Transaction)



## 트랜잭션이란?

* 데이터베이스의 상태를 변화시키는 작업의 **단위**를 뜻함
* **SELECT, INSERT, DELETE, UPDATE**와 같은 질의어를 통해 데이터베이스에 접근하는 것을 의미함
* 질의어 한 문장이 아닌 여러 질의어가 조합된 것도 포함



## 트랜잭션 사용 이유

* 여러 개의 클라이언트가 동시에 DB에 액세스 하여 처리하는 과정 중 **데이터 부정합**을 방지 하기 위함
* 하나의 프로세스만 사용하는 것은 **비효율적**이기 때문에 사용



## Commit, Rollback

### Commit

* 트랜잭션이 성공적으로 끝난 후 데이터베이스가 **일관성**있는 상태에 있을 때, 트랜잭션이 끝났다는 것을 알려주기 위해 사용하는 연산
* 연산을 사용하면 수행했던 트랜잭션이 로그에 저장



### Rollback

* 하나의 트랜잭션 처리가 비정상적으로 종료되어 트랜잭션의 **원자성**이 깨진 경우, 트랜잭션을 처음부터 다시 시작하거나, 부분적으로 연산된 결과를 취소



## 트랜잭션의 특징

* **원자성 (Atomicity)** - 트랜잭션이 데이터베이스에 **모두** 반영되던가 반대로 전부 **실패**하는 성질
  * 트랜잭션의 안정성 보장을 위해 가져야 할 성질 중 하나

* **일관성 (Consistency)** - 트랜잭션이 진행되는 동안 데이터베이스가 변경되더라도 업데이트된 데이터베이스로 트랜잭션이 진행되는 것이 아니라 **처음**에 트랜잭션을 진행 하기 위해 참조한 데이터베이스로 진행
* **독립성 (Isolation)** - 둘 이상의 트랜잭션이 **동시에** 실행되고 있을 때, 각 트랜잭션은 고립되어 있어 연속으로 실행한 것과 동일한 결과를 나타낸다
  * 트랜잭션끼리 서로 영향을 끼치지 않는다.

* **지속성 (Durability)** - 트랜잭션이 성공적으로 **완료**됐을 경우, 결과가 **영구적**으로 반영되어야 함
  * 런타임 오류나 시스템 오류가 발생하더라도, 해당 기록은 **영구적**이어야 함(트랜잭션에 대한 **로그**)

