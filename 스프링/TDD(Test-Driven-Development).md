# TDD(Test-Driven-Development)

### TDD란?

- TDD란 Test Driven Development의 약자로 '**테스트 주도 개발**'이라고 한다. 
- 짧은 개발 주기의 반복에 의존하는 개발 프로세스이며 애자일 방법론중 하나인 **eXtream Programming(XP)의 'Test-First'** 개념에 기반을 둔 단순한 설계를 중요시한다.

![img](https://blog.kakaocdn.net/dn/mG0Pb/btqBZMj04hL/iFrPHyeudxXYfxkWANylY0/img.png)

### TDD 개발주기

<Red> 단계에서는 실패하는 코드를 먼저 작성한다.

<Green> 단계에서는 테스트 코드를 성공시키기 위한 실제 코드를 작성한다.

<Yellow> 단계에서는 중복 코드 제거, 일반화 등의 리팩토링을 수행한다.

#### 중요한점

* 실패하는 테스트 코드를 작성할 때까지 실제 코드를 작성하지 않는 것
* 실패하는 테스트를 통과할 정도의 최소 실제 코드를 작성할 것



### 일반 개발 방식과 TDD 개발 방식의 비교



![img](https://blog.kakaocdn.net/dn/cXoUol/btqBWrI2z2l/ezsoBHstfTXgZfzGKQzOwK/img.png)

#### 🔹 **일반 개발 방식** 

보통의 개발 방식은 **'요구사항 분석 -> 설계 -> 개발 -> 테스트 -> 배포'**의 형태의 개발 주기를 갖는데 이러한 방식은 소프트웨어 개발을 느리게 하는 잠재적 위험이 존재한다.

* 소비자의 요구사항이 처음부터 명확하지 않을 수 있다.
* 따라서 처음부터 완벽한 설계는 어렵다.
* 자체 버그 검출 능력 저하 또는 소스코드의 품질이 저하될 수 있다.
* 자체 테스트 비용이 증가할 수 있다.

**작은 부분의 기능 수정에도 모든 부분을 테스트해야 하므로 전체적인 버그 검출이 어려워진다.**



![img](https://blog.kakaocdn.net/dn/n7tzF/btqBYtFtylr/PNz12MTxKTiEblbhdCCDKK/img.png)



#### 🔹 TDD 개발 방식

- TDD와 일반적인 개발 방식의 가장 큰 차이점은 테스트 코드를 작성한 뒤에 실제 코드를 작성한다는 점이다.
  설계 단계에서 프로그래밍 목적을 반드시 미리 정의해야만 하고, 무엇을 테스트해야 할지 미리 정의 해야한 한다.
- 작성중에 발생하는 예외사항(버그, 수저사항) 들은 테스트 케이스에 추가하고 설계를 개선한다. 이후 테스트가 통과된 코드만을 코드 개발 단계에서 실제 코드로 작성한다.

**<u>이런한 과정이 반복되면서 자연스럽게 코드의 버그가 줄어들고, 소스코드가 간결해진다.</u>**



#### ⭕ TDD 개발 방식의 장점

* 튼튼한 객제 지향적인 코드 생산

  * 코드의 재사용을 보장하므로 TDD를 통한 개발 시 기능 별 철저한 모듈화가 이뤄진다. 이는 종속성과 의존성이 낮은 모듈로 조합된 소프트웨어 개발을 가능하게 하며 필요에 따라 모듈을 추가하거나 제거해도 소프트웨어 전체 구조에 영향을 미치지 않게 된다.

* 재설계 시간 단축

  * 테스트 코드를 먼저 작성하면서 다양한 예외사항을 고려하기 때문에 소프트웨어의 전반적인 설계가 변경되는 일을 방지할 수 있다.

* 디버깅 시간 단축

  * 오류가 나면 DB의 문제인지, 비즈니스 레이어의 문제인지, UI의 문제인지 실제 모든 레이어들을 전부 디버깅 해야하지만, TDD의 경우 자동화 된 유닛테스팅을 전재하므로 특정 버그를 손 쉽게 찾을 수 있다.

* 테스트 문서의 대체 기능

  * 주로 SI프로젝트 진행 과정에서 어떤 요소들이 테스트 되었는지 정의서를 만든다. 이것은 단순한 통합 테스트 문서에 지나지 않는다. TDD를 하게 될 경우 테스팅을 자동화 시킴과 동시에 보다 정확한 테스트 근거를 산출할 수 있다.

  

#### 📣 TDD 개발 방식의 단점

* 생산성의 저하 
  * 처음부터 2개의 코드를 짜야하고, 중간중간 테스트를 하면서 고쳐나가야 하기 때문에 일반 개발 방식보다 개발 시간이 약 10%~30% 정도 늘어난다.