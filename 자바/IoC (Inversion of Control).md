# IoC (Inversion of Control)



### 컨테이너란?

> **컨테이너는 보통 인스턴스 생명주기를 관리, 생성된 인스턴스들에게 추가적인 기능을 제공하도록 하는 것이라고 한다**. 즉, 컨테이너란 작성한 코드의 처리과정을 위임받은 독립적인 존재라고 생각하면 된다.

* Servlet 컨테이너는 Servlet의 생성, 생성 후 초기화, 서비스 실행, 소멸에 관한 모든 권한을 가지고 있다.
* Servlet 컨테이너의 web.xml을 보면 JSP/Servlet 접근 권한에 대한 추가적인 서비스도 지원한다.
* 스프링 컨테이너는 스프링 프레임워크 핵심부에 위치하며, 종속객체 주입을 이용하여 애플리케이션을 구성하는 컴포넌트들을 관리한다.

### IoC/DI 컨테이너란?

> IoC 컨테이너는 객체의 생성을 책임지고, 의존성을 관리한다. POJO의 생성, 초기화, 서비스, 소멸에 대한 권한을 가진다.



### POJO (Plain Old Java Object)란?

> 주로 특정 자바 모델이나 기능, 프레임워크를 따르지 않는 Java Object를 지칭한다. (Getter, Setter)

**POJO의 조건**

- 특정 규약에 종속되지 않는다.

- 특정 환경에 종속되지 않는다.

- 단일 책임 원칙을 지키는 클래스

  >  즉, **POJO란 객체지향적**인 원리에 충실하면서, **특정 환경과 규약에 종속되지 않아** 필요에 따라 재사용될 수 있는 방식으로 설계된 오브젝트이다.

##### POJO의 장점

* 특정 규약에 종속되지 않아 객체지향 설계를 할 수 있게 됨.
* 특정 환경에 종속되지 않아 테스트 하기 좋음
* 특정 규약에 종속되지 않아 로우레벨 코드와 비즈니스 코드가 분리되어 깔금한 코드 작성이 가능



### 컨테이너의 종류

#### 1) BeanFactory

> BeanFactory 계열의 인터페이스만 구현한 클래스는 단순히 컨테이너에서 객체를 생성하고 DI 를 처리해주는 기능만을 제공한다.
>
> Bean을 등록, 생성, 조회, 반환 관리함.

#### 2) ApplicationContext

> BeanFactory와 유사한 기능을 제공하지만 좀 더 많은 기능을 제공하는 Application Context.
>
> Bean을 등록, 생성, 조회, 반환 관리하는 기능은 BeanFactory와 같음.
>
> * BeanFactory 보다 더 추가적으로 제공하는 기능
>   * 국제화가 지원되는 텍스트 메시지를 관리해 준다.
>   * 이미지같은 파일 자원을 로드할 수 있는 포괄적인 방법을 제공해준다.
>   * 리스너로 등록된 빈에게 이벤트 발생을 알려준다.

* BeanFactory 와 ApplicationContext 차이점
  * BeanFactory : 처음으로 getBean()이 호출된 시점에서야 해당 빈을 생성한다.
  * ApplicationContext :컨텍스트 초기화 시점에 모든 싱글턴 빈을 미리 로드한 후 애플리케이션 가동 후에는 Bean을 지연없이 얻을 수 있다.



### IoC의 개념

> IoC (Inversion of Control, 제어권의 역전) 이라고 한다.
> 객체의 생성, 생명주기의 관리까지 모든 객체에 대한 제어권이 바뀌었다는 것을 의미한다.

* Servlet Container, EJB Container을 사용하는 경우 제어권이 넘어가서 객체의 생명주기를 Container들이 전담하게 된다. 
* 즉, **인스턴스 생성부터 소멸까지의 인스턴스 생명주기 관리를 개발자가 아닌 컨테이너가 대신 해준다는 뜻이다.** 